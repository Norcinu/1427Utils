<Window x:Class="PDTUtils.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        DataContext="{Binding RelativeSource={RelativeSource Self}}"
        Background="{DynamicResource WindowBackgroundBrush}"
        Title="1427 Shell Utils" Height="600" Width="800" Name="WindowMain" WindowStyle="None" Loaded="WindowMain_Loaded" WindowState="Maximized" Closing="WindowMain_Closing" Foreground="#FF837C7C"  ResizeMode="NoResize" WindowStartupLocation="CenterScreen" SizeToContent="Manual">
       
    <!--<Grid Background="#FFC78585"></Grid>-->
    <Grid x:Name="MainGrid">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Name="ColumnOne" Width="207*" />
            <ColumnDefinition Name="ColumnTwo" Width="571*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Name="RowOne" Height="82*" />
            <RowDefinition Name="RowTwo" Height="479*" />
            <RowDefinition Name="RowThree" Height="52*"/>
        </Grid.RowDefinitions>

        <Grid.Resources>
            <BooleanToVisibilityConverter x:Key="BoolToVisConverter"/>
            <LinearGradientBrush x:Key="FunkyBrush">
                <GradientStop Color="Yellow" Offset="0" />
                <GradientStop Color="Navy" Offset="1" />
            </LinearGradientBrush>
        </Grid.Resources>

        <!-- 2nd screenshot uses ColumnSpan and RowSpan -->
        <Label Name="lblTop" Background="#336699"  BorderBrush="Black" BorderThickness="2" Grid.ColumnSpan="2"></Label>
        <!--LightGoldenrodYellow"-->
        <!-- columnspan="5" -->
        <Label Name="lblLeft" Background="DimGray" BorderBrush="Black" BorderThickness="2" Grid.Row="1" Grid.RowSpan="2" Grid.ColumnSpan="1" Margin="0,0,1,0" Grid.Column="0"></Label>
        <!--Background="LightGreen"-->
        <Label Name="lblRight" Background="DimGray" BorderBrush="Black" BorderThickness="2" Grid.Column="1" Grid.Row="1" Margin="0,0,0,47" Grid.RowSpan="2" Style="{Binding}" IsEnabled="True">Blue 1</Label>
        <Label Name="lblBottom" Background="#FF336699" BorderBrush="Black" BorderThickness="2" Grid.Row="2" Grid.Column="1" Height="48" VerticalAlignment="Bottom"></Label>
        
        <TabControl Name="settingsTab" TabStripPlacement="Top" Grid.Column="1" Visibility="Hidden" SelectionChanged="Logfile_SelectionChanged" IsEnabled="False" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="14,28,12,84" Width="545" Height="327" ScrollViewer.HorizontalScrollBarVisibility="Visible" Grid.Row="1" />
        <Label Grid.Column="2" Height="39" HorizontalAlignment="Right" Margin="0,12,0,0" Name="lblDoorStatus" VerticalAlignment="Top" Width="275" FontWeight="Bold" FontSize="26" FontFamily="Cambria" Content="Door Status : Closed" />
        <StackPanel Grid.Column="1" Grid.Row="1" HorizontalAlignment="Center" Margin="0,6,0,0" Name="stpButtonPanel" VerticalAlignment="Top" Orientation="Horizontal" ScrollViewer.HorizontalScrollBarVisibility="Visible" />
        <Label Height="Auto" HorizontalAlignment="Left" Margin="292,12,0,0" Name="lblUptime" VerticalAlignment="Top" Grid.Column="1" Grid.Row="1" Width="Auto" FontSize="36" IsEnabled="False" Visibility="Collapsed" />
        
        
        <ComboBox Width="100" Height="35" Name="MachineIniCategorys" IsEnabled="False" Visibility="Hidden"
                  ItemsSource="{Binding GetUniqueCategories}"
                  DisplayMemberPath="Category"
                  SelectedValuePath="Category"
                  SelectedValue="{Binding Category}" SelectionChanged="MachineIniCategorys_SelectionChanged" DropDownClosed="MachineIniCategorys_DropDownClosed" />
        
        <!--<ListView ItemsSource="{Binding GetMachineIni}" Name="MachineIniListView" IsEnabled="False" Visibility="Hidden">
                <ListView.View>
                    <GridView AllowsColumnReorder="true"
                    ColumnHeaderToolTip="Machine INI config settings">
                        <GridViewColumn DisplayMemberBinding=
                                "{Binding Path=Category}" 
                            Header="Category" Width="150"/>

                        <GridViewColumn DisplayMemberBinding=
                                "{Binding Path=Field}" 
                            Header="Field"  Width="150" >
                        </GridViewColumn>

                        <GridViewColumn DisplayMemberBinding=
                                "{Binding Path=Value}" 
                            Header="Value" Width="450"/>
                    </GridView>

                </ListView.View>
        </ListView>-->
        
        
        <StackPanel Name="stpVolume" IsEnabled="{Binding Path=Enabler.Volume}" Visibility="{Binding Path=Enabler.Volume, Converter={StaticResource BoolToVisConverter}}" Grid.Column="1" Grid.Row="1">
            <Slider Grid.Column="1" Grid.Row="1" Height="50" HorizontalAlignment="Center" Margin="28,205,43,184" IsSnapToTickEnabled="True" Name="MasterVolumeSlider" VerticalAlignment="Center" Width="500"  TickFrequency="5" TickPlacement="Both" Maximum="100" ValueChanged="MasterVolumeSlider_ValueChanged" SmallChange="5" />
            <ProgressBar Grid.Column="1" Grid.Row="1" Height="10" Name="progressBar1" Width="500" Value="{Binding ElementName=MasterVolumeSlider, Path=Value}"/>
            <TextBox Grid.Column="1" Grid.Row="1" Height="23" HorizontalAlignment="Right" Margin="0,348,269,67" Name="txtVolumeSliderValue" VerticalAlignment="Center" Width="50" Text="{Binding ElementName=MasterVolumeSlider, Path=Value}" IsReadOnly="True"  />
        </StackPanel>
        
        <StackPanel Grid.Row="1" Grid.Column="1" Width="Auto" Name="stpGameStatsView" IsEnabled="{Binding Path=Enabler.GameStatistics}" Visibility="{Binding Path=Enabler.GameStatistics, Converter={StaticResource BoolToVisConverter}}">
            <!-- Wrap this in a dockpanel and set to left hand side. On the right have a graph-->
            <ListView Name="MachineIniListView" ItemsSource="{Binding GameStatistics.Games}" Width="700" FontSize="16">
                <ListView.View>
                    <GridView ColumnHeaderToolTip="Game Stats view" AllowsColumnReorder="False">
                        <GridViewColumn Header="Game Number" Width="Auto" DisplayMemberBinding="{Binding GameNumber}" />
                        <GridViewColumn Header="Icon" Width="100">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <Image Source="{Binding ImageSource}" />
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                        <GridViewColumn Header="Model No." Width="100" DisplayMemberBinding="{Binding ModelNumber}" />
                        <GridViewColumn Header="Bets" Width="100" DisplayMemberBinding="{Binding Bets}"/>
                        <GridViewColumn Header="Wins" Width="100" DisplayMemberBinding="{Binding Wins}"/>
                        <GridViewColumn Header="Percentage" Width="100" DisplayMemberBinding="{Binding Percentage}"/>
                        <GridViewColumn Header="Average Stake" Width="100" DisplayMemberBinding="{Binding AverageStake}" />
                    </GridView>
                </ListView.View>
            </ListView>
        </StackPanel>

        <!--<StackPanel Grid.Row="1" Grid.Column="1" Width="Auto" Name="stpReadMeters" IsEnabled="{Binding Enabler.Meters}" Visibility="{Binding Path=Enabler.Performance, Converter={StaticResource BoolToVisConverter}}">-->
            <TabControl Name="tabMeters"  Grid.Row="1" Grid.Column="1" Width="Auto" IsEnabled="{Binding Enabler.Meters}" Visibility="{Binding Path=Enabler.Meters, Converter={StaticResource BoolToVisConverter}}">
                <TabItem Header="LCD Meters">
                    <ListBox ItemsSource="{Binding Meters.Me}">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <!--<TextBlock Text="{Binding CoinIn}"/>
                                <TextBlock Text="{Binding CoinOut}"/>-->
                                <TextBlock Text="{Binding NotesIn}" />
                            </DataTemplate>                    
                        </ListBox.ItemTemplate>
                    </ListBox>
                    <!--<ListView ItemsSource="{Binding Meter}"></ListView>-->
                    <!--<TextBlock Name="lblLcdMeter" Width="auto" Height="auto" Text="{Binding Path=Meters.LCDShortTerm.CoinIn, StringFormat=\{0:c\}}"/>-->
                    <!--<TextBlock Text="{Binding Meters.LCDShortTerm.CashOut}"/>-->
                <!--<ListView Name="MetersView">
                        <ListView.View>
                            <GridView></GridView>
                        </ListView.View>
                    </ListView>-->
                </TabItem>
                <TabItem Header="Cash Reconcilliation"></TabItem>
                <!--<TabItem Content></TabItem>-->
            </TabControl>
        <!--</StackPanel>-->

        <!-- System Info View -->
        <DockPanel LastChildFill="False" IsEnabled="False" Visibility="Hidden" Grid.Row="1" Grid.Column="1">
            <Label DockPanel.Dock="Left">LOOOOOL MESH</Label>
            <ListView DockPanel.Dock="Right">
                <ListView.View>
                    <GridView>
                        <GridViewColumn Header="Game"></GridViewColumn>
                        <GridViewColumn Header="Executable Path"></GridViewColumn>
                        <GridViewColumn Header="MD5 Status"></GridViewColumn>
                    </GridView>
                </ListView.View>
            </ListView>
        </DockPanel>
        
        <!-- End of System Info View -->
        
        
        
        
        <Button Content="Hoppers" Height="35" HorizontalAlignment="Left" Name="btnHoppers" VerticalAlignment="Top" Width="170" Grid.Row="1" Click="btnHoppers_Click" FontSize="22" Margin="21,6,0,0" />
        <Button Content="Edit Machine Ini" Grid.Row="1" Height="35" HorizontalAlignment="Left" Name="btnMachineIni" VerticalAlignment="Top" Width="170" Click="btnMachineIni_Click" FontSize="22" Margin="21,47,0,0" />
        <Button Content="Games" Height="35" HorizontalAlignment="Left" Name="Games" VerticalAlignment="Top" Width="170" Grid.Row="1" Click="Games_Click" FontSize="22" Margin="21,88,0,0" />
        <Button Content="Logfiles" Height="35" HorizontalAlignment="Left" Name="btnLogfiles" VerticalAlignment="Top" Width="170" Grid.Row="1" Click="btnLogfiles_Click" FontSize="22" Margin="21,129,0,0" />
        <Button Content="Set Volume" Height="35" HorizontalAlignment="Left" Margin="21,170,0,0" Name="btnVolume" VerticalAlignment="Top" Width="170" Grid.Row="1" Click="btnVolume_Click" FontSize="22" />
        <Button Content="Read Meters" Grid.Row="1" Height="35" HorizontalAlignment="Left" Margin="21,211,0,0" Name="btnReadMeters" VerticalAlignment="Top" Width="170" Click="btnReadMeters_Click" FontSize="22" />
        <Button Content="Functional Tests" Grid.Row="1" Height="35" HorizontalAlignment="Left" Margin="21,251,0,0" Name="btnFunctionalTests" VerticalAlignment="Top" Width="170" Click="btnFunctionalTests_Click" FontSize="22" />
        <Button Content="Machine Settings" Grid.Row="1" Height="35" Margin="21,292,0,0" Name="btnMachineSettings" VerticalAlignment="Top" FontSize="22" Width="170" HorizontalAlignment="Left" />
        <Button Content="Exit" Height="23" VerticalAlignment="Bottom" HorizontalAlignment="Left" Margin="54,0,0,12" Name="btnExit" Width="75" Grid.Row="2" Click="btnExit_Click" />
        <Button Content="Performance" Grid.Row="1" Height="35" HorizontalAlignment="Left" Margin="21,333,0,0" Name="button1" VerticalAlignment="Top" Width="170" FontSize="22" />
        <Button Content="System Settings" Grid.Row="1" VerticalAlignment="Top" Width="170" Height="35" FontSize="22" Margin="20,374,16,0" />
    </Grid>

   
</Window>
